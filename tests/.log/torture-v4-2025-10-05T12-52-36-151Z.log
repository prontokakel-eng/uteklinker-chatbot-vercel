=== TORTURE V4 START 2025-10-05T12:52:36.151Z ===
ğŸ“‚ Using test cases: C:\uteklinker-chatbot-vercel\tests\mini-torture-2-questions.json
ğŸš€ BACKEND mode â†’ https://min-bot.vercel.app/api/chat
[LANG] Ã„r plattorna halksÃ¤kra? â†’ SE (expected SE) ğŸŸ©
â†³ Reply: [object Object],[object Object]
[LANG] Vilka mÃ¥tt har ni? â†’ SE (expected SE) ğŸŸ©
â†³ Reply: [object Object]
[LANG] What sizes do you offer? â†’ EN (expected EN) ğŸŸ©
â†³ Reply: [object Object],[object Object]
âš ï¸ PreDetect â‰  ChatDetect { input="Are the tiles slip resistant?", pre=SE (via=heuristic+anchors), chat=EN (via=faq) }
[LANG] Are the tiles slip resistant? â†’ EN (expected EN) ğŸŸ©
â†³ Reply: [object Object],[object Object],[object Object]
[LANG] Kan jeg selv montere det? â†’ DA (expected DA) ğŸŸ©
â†³ Reply: Jag Ã¤r inte sÃ¤ker pÃ¥ vad du menar, kan du formulera frÃ¥gan pÃ¥ ett annat sÃ¤tt?
âš ï¸ PreDetect â‰  ChatDetect { input="Er det frostsikkert?", pre=UNKNOWN (via=heuristic), chat=DA (via=AI_FALLBACK) }
[LANG] Er det frostsikkert? â†’ DA (expected DA) ğŸŸ©
â†³ Reply: Jag Ã¤r inte sÃ¤ker pÃ¥ vad du menar, kan du formulera frÃ¥gan pÃ¥ ett annat sÃ¤tt?
âš ï¸ PreDetect â‰  ChatDetect { input="Gibt es verschiedene Farben?", pre=UNKNOWN (via=heuristic), chat=DE (via=faq) }
[LANG] Gibt es verschiedene Farben? â†’ DE (expected DE) ğŸŸ©
â†³ Reply: [object Object]
âš ï¸ PreDetect â‰  ChatDetect { input="Sind die Platten rutschfest?", pre=SE (via=heuristic+anchors), chat=DE (via=faq) }
[LANG] Sind die Platten rutschfest? â†’ DE (expected DE) ğŸŸ©
â†³ Reply: [object Object]
[FUZZY] klinkerdak mÃ¥tt?? â†’ SE (expected SE) ğŸŸ©
â†³ Reply: Jag Ã¤r inte sÃ¤ker pÃ¥ vad du menar, kan du formulera frÃ¥gan pÃ¥ ett annat sÃ¤tt?
[FUZZY] klinkerdÃ¤ck slipp?? â†’ SE (expected SE) ğŸŸ©
â†³ Reply: Jag Ã¤r inte sÃ¤ker pÃ¥ vad du menar, kan du formulera frÃ¥gan pÃ¥ ett annat sÃ¤tt?
âš ï¸ PreDetect â‰  ChatDetect { input="asdkjhqwe123", pre=UNKNOWN (via=heuristic), chat=FILTER (via=gibberish) }
[GIBBERISH] asdkjhqwe123 â†’ FILTER (expected FILTER) ğŸŸ©
â†³ Reply: Din frÃ¥ga verkar inte innehÃ¥lla nÃ¥gon relevant text. FÃ¶rsÃ¶k formulera den tydligare.
âš ï¸ PreDetect â‰  ChatDetect { input="!!!!!!?????", pre=UNKNOWN (via=heuristic), chat=FILTER (via=short-text) }
[GIBBERISH] !!!!!!????? â†’ FILTER (expected FILTER) ğŸŸ©
â†³ Reply: Din frÃ¥ga verkar inte innehÃ¥lla nÃ¥gon relevant text. FÃ¶rsÃ¶k formulera den tydligare.
âš ï¸ PreDetect â‰  ChatDetect { input="Det hÃ¤r Ã¤r en vÃ¤ldigt lÃ¥ng text bara fÃ¶r sanity-test, vi behÃ¶ver inte 500+ tecken men det rÃ¤cker att visa att lÃ¤ngdfiltret triggas genom att den hÃ¤r strÃ¤ngen Ã¤r riktigt lÃ¥ng och fortsÃ¤tter med massa utfyllnad ...................................................", pre=SE (via=regex-exclusive), chat=FILTER (via=filtered-long) }
[LONG] Det hÃ¤r Ã¤r en vÃ¤ldigt lÃ¥ng text bara fÃ¶r sanity-test, vi behÃ¶ver inte 500+ tecken men det rÃ¤cker att visa att lÃ¤ngdfiltret triggas genom att den hÃ¤r strÃ¤ngen Ã¤r riktigt lÃ¥ng och fortsÃ¤tter med massa utfyllnad ................................................... â†’ FILTER (expected FILTER) ğŸŸ©
â†³ Reply: Din frÃ¥ga Ã¤r fÃ¶r lÃ¥ng eller repetitiv utan relevanta ord.
âš ï¸ PreDetect â‰  ChatDetect { input="Another very very long nonsense text for sanity-test sanity-test sanity-test â€¦", pre=SE (via=heuristic+anchors), chat=FILTER (via=filtered-long) }
[LONG] Another very very long nonsense text for sanity-test sanity-test sanity-test â€¦ â†’ FILTER (expected FILTER) ğŸŸ©
â†³ Reply: Din frÃ¥ga Ã¤r fÃ¶r lÃ¥ng eller repetitiv utan relevanta ord.
âš ï¸ PreDetect â‰  ChatDetect { input="cheap viagra online", pre=UNKNOWN (via=heuristic), chat=FILTER (via=blacklist-ALL) }
[BLOCK] cheap viagra online â†’ FILTER (expected FILTER) ğŸŸ©
â†³ Reply: ğŸš« Din frÃ¥ga innehÃ¥ller blockerade ord.
âš ï¸ PreDetect â‰  ChatDetect { input="lottery scam free money", pre=SE (via=heuristic+anchors), chat=FILTER (via=blacklist-ALL) }
[BLOCK] lottery scam free money â†’ FILTER (expected FILTER) ğŸŸ©
â†³ Reply: ğŸš« Din frÃ¥ga innehÃ¥ller blockerade ord.
[GREETING] hej â†’ SE (expected SE) ğŸŸ©
â†³ Reply: Jag Ã¤r inte sÃ¤ker pÃ¥ vad du menar, kan du formulera frÃ¥gan pÃ¥ ett annat sÃ¤tt?
[GREETING] hello there â†’ EN (expected EN) ğŸŸ©
â†³ Reply: It seems like you're asking something unusual. Could you rephrase?
âš ï¸ PreDetect â‰  ChatDetect { input="12345", pre=UNKNOWN (via=heuristic), chat=FILTER (via=gibberish) }
[RELEVANCE] 12345 â†’ FILTER (expected FILTER) ğŸŸ©
â†³ Reply: Din frÃ¥ga verkar inte innehÃ¥lla nÃ¥gon relevant text. FÃ¶rsÃ¶k formulera den tydligare.
âš ï¸ PreDetect â‰  ChatDetect { input="??!!", pre=UNKNOWN (via=heuristic), chat=FILTER (via=short-text) }
[RELEVANCE] ??!! â†’ FILTER (expected FILTER) ğŸŸ©
â†³ Reply: Din frÃ¥ga verkar inte innehÃ¥lla nÃ¥gon relevant text. FÃ¶rsÃ¶k formulera den tydligare.

ğŸŸ© Torture-v4 klart. Totala mismatchar: 0
{"regex":4,"anchors":9,"whitelist":0,"heuristic":7,"ai":0,"unknown":0}
âš ï¸ PreDetect â‰  ChatDetect: 12 fall
ğŸ’¥ Sheets export fail: Invalid values[1][8]: list_value 	 {
  values {
    struct_value {
      fields {
        key: "answer"
        value {
          string_value: "Ja, klinkerd\303\244ck\302\256 har halkskyddade ytor anpassade f\303\266r utomhusbruk."
        }
      }
      fields {
        key: "question"
        value {
          string_value: "\303\204r plattorna halks\303\244kra?"
        }
      }
      fields {
        key: "score"
        value {
          number_value: 9.287439764962262E-10
        }
      }
    }
  }
  values {
    struct_value {
      fields {
        key: "answer"
        value {
          string_value: "Ja, ytan \303\244r halkskyddad och t\303\245lig f\303\266r barnens lek."
        }
      }
      fields {
        key: "question"
        value {
          string_value: "\303\204r plattorna s\303\244kra f\303\266r barn att leka p\303\245?"
        }
      }
      fields {
        key: "score"
        value {
          number_value: 0.5826177713302312
        }
      }
    }
  }
}

=== END 2025-10-05T12:52:43.386Z ===
